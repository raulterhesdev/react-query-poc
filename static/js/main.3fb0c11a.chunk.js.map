{"version":3,"sources":["utils/setup/firebase.js","context/auth-context.js","components/Spinner/Spinner.js","utils/firebaseUtils.js","utils/firebaseAPI.js","components/Button/Button.js","components/Message/Message.js","hooks/mutations/userMutations.js","components/Input/InputAuth.js","pages/Login/Login.page.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","AuthContext","React","createContext","displayName","AuthProvider","props","useState","user","setUser","error","setError","isLoading","setIsLoading","register","useCallback","email","password","auth","createUserWithEmailAndPassword","then","catch","login","signInWithEmailAndPassword","logout","signOut","value","useMemo","Provider","useAuth","context","useContext","undefined","Error","Spinner","fullPage","className","addUpdatesToFirebase","updates","database","ref","update","Promise","reject","getSingleValueFromFirebase","path","once","snapshot","val","getArrayFromFirebase","data","key","hasOwnProperty","element","push","getCurrentDate","moment","format","createUser","uid","role","updateUser","name","age","getUser","getUsers","createProject","description","ownerUid","category","createdAt","dataForProjects","dataForFullProject","updatedAt","newKey","child","id","getProjects","getProject","deleteProject","updateProject","projectsUpdateData","projectUpdateData","createTask","creatorUid","userId","severity","state","dataAllTasks","dataTask","getProjectTasks","getTasks","elementKey","subElement","getTask","taskId","deleteTask","updateTask","comments","createComment","inputs","text","deleteComment","commentId","Button","onClick","type","bgColor","bgColorHover","btnSize","size","Message","classes","useCreateUserData","useMutation","useUpdateUserData","queryClient","useQueryClient","onSuccess","setQueryData","invalidateQueries","Input","onChange","label","htmlFor","Login","setEmail","setPassword","isRegister","setIsRegister","e","currentTarget","layoutVertical","c","message","AuthenticatedApp","lazy","App","createUserMutation","useEffect","additionalUserInfo","isNewUser","mutate","fallback","QueryClient","ReactDOM","render","StrictMode","QueryClientProvider","client","initialIsOpen","document","getElementById"],"mappings":"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","file":"static/js/main.3fb0c11a.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\n\r\nvar firebaseConfig = {\r\n\tapiKey: \"AIzaSyBXHDaRPCxDAuR8IfVx_po4E0VP9TfdvPI\",\r\n\tauthDomain: \"react-query-poc.firebaseapp.com\",\r\n\tdatabaseURL: \"https://react-query-poc-default-rtdb.firebaseio.com\",\r\n\tprojectId: \"react-query-poc\",\r\n\tstorageBucket: \"react-query-poc.appspot.com\",\r\n\tmessagingSenderId: \"635095643744\",\r\n\tappId: \"1:635095643744:web:9c7e0ba62dc323526a7505\",\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\n","import React, { useState, useCallback, useMemo } from \"react\";\r\nimport firebase from \"../utils/setup/firebase\";\r\n\r\nconst AuthContext = React.createContext();\r\nAuthContext.displayName = \"AuthContext\";\r\n\r\nconst AuthProvider = (props) => {\r\n\tconst [user, setUser] = useState(null);\r\n\tconst [error, setError] = useState(null);\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\r\n\tconst register = useCallback(\r\n\t\t({ email, password }) => {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.createUserWithEmailAndPassword(email, password)\r\n\t\t\t\t.then((user) => {\r\n\t\t\t\t\tsetUser(user);\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetError(error);\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[setUser, setError]\r\n\t);\r\n\r\n\tconst login = useCallback(\r\n\t\t({ email, password }) => {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tfirebase\r\n\t\t\t\t.auth()\r\n\t\t\t\t.signInWithEmailAndPassword(email, password)\r\n\t\t\t\t.then((user) => {\r\n\t\t\t\t\tsetUser(user);\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\tsetError(error);\r\n\t\t\t\t\tsetIsLoading(false);\r\n\t\t\t\t});\r\n\t\t},\r\n\t\t[setUser, setError]\r\n\t);\r\n\r\n\tconst logout = useCallback(() => {\r\n\t\tsetIsLoading(true);\r\n\t\tfirebase\r\n\t\t\t.auth()\r\n\t\t\t.signOut()\r\n\t\t\t.then(() => {\r\n\t\t\t\tsetUser(null);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tsetError(error);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t});\r\n\t}, [setUser, setError]);\r\n\r\n\tconst value = useMemo(\r\n\t\t() => ({ user, error, login, register, logout, isLoading }),\r\n\t\t[user, error, isLoading, login, register, logout]\r\n\t);\r\n\r\n\treturn <AuthContext.Provider value={value} {...props} />;\r\n};\r\n\r\nfunction useAuth() {\r\n\tconst context = React.useContext(AuthContext);\r\n\tif (context === undefined) {\r\n\t\tthrow new Error(`useAuth must be used within a AuthProvider`);\r\n\t}\r\n\treturn context;\r\n}\r\n\r\nexport { AuthProvider, useAuth };\r\n","import React from \"react\";\r\n\r\nconst Spinner = ({ fullPage }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`${\r\n\t\t\t\tfullPage\r\n\t\t\t\t\t? \"absolute top-0 left-0 flex h-screen w-screen justify-center items-center z-50 bg-black bg-opacity-60\"\r\n\t\t\t\t\t: null\r\n\t\t\t}`}\r\n\t\t>\r\n\t\t\t<div className='h-20 w-20 rounded-full border-t-2 border-yellow-500 animate-spin'>\r\n\t\t\t\t<div className='h-16 w-16 rounded-full border-t-2 border-yellow-500 animate-spin'>\r\n\t\t\t\t\t<div className='h-12 w-12 rounded-full border-t-2 border-yellow-500 animate-spin'>\r\n\t\t\t\t\t\t<div className='h-8 w-8 rounded-full border-t-2 border-yellow-500 animate-spin'>\r\n\t\t\t\t\t\t\t<div className='h-4 w-4 rounded-full border-t-2 border-yellow-500 animate-spin'></div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Spinner;\r\n","import firebase from \"./setup/firebase\";\r\nimport moment from \"moment\";\r\n\r\nexport const addUpdatesToFirebase = (updates) => {\r\n\treturn firebase\r\n\t\t.database()\r\n\t\t.ref()\r\n\t\t.update(updates)\r\n\t\t.catch((error) => Promise.reject(error));\r\n};\r\n\r\nexport const getSingleValueFromFirebase = (path) => {\r\n\treturn firebase\r\n\t\t.database()\r\n\t\t.ref(path)\r\n\t\t.once(\"value\")\r\n\t\t.then((snapshot) => {\r\n\t\t\treturn snapshot.val();\r\n\t\t})\r\n\t\t.catch((error) => Promise.reject(error));\r\n};\r\n\r\nexport const getArrayFromFirebase = (path) => {\r\n\treturn firebase\r\n\t\t.database()\r\n\t\t.ref(path)\r\n\t\t.once(\"value\")\r\n\t\t.then((snapshot) => {\r\n\t\t\tconst data = [];\r\n\t\t\tfor (const key in snapshot.val()) {\r\n\t\t\t\tif (snapshot.val().hasOwnProperty(key)) {\r\n\t\t\t\t\tconst element = snapshot.val()[key];\r\n\t\t\t\t\tdata.push(element);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.catch((error) => Promise.reject(error));\r\n};\r\n\r\nexport const getNestedArrayFromFirebase = (path) => {\r\n\treturn firebase\r\n\t\t.database()\r\n\t\t.ref(path)\r\n\t\t.once(\"value\")\r\n\t\t.then((snapshot) => {\r\n\t\t\tconst data = [];\r\n\t\t\tfor (const key in snapshot.val()) {\r\n\t\t\t\tif (snapshot.val().hasOwnProperty(key)) {\r\n\t\t\t\t\tconst element = snapshot.val()[key];\r\n\t\t\t\t\tfor (const elementKey in element) {\r\n\t\t\t\t\t\tif (element.hasOwnProperty(elementKey)) {\r\n\t\t\t\t\t\t\tconst subElement = element[elementKey];\r\n\t\t\t\t\t\t\tdata.push(subElement);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn data;\r\n\t\t})\r\n\t\t.catch((error) => Promise.reject(error));\r\n};\r\n\r\nexport const getCurrentDate = () => moment().format(\"MMMM Do YYYY\");\r\n","import firebase from \"./setup/firebase\";\r\n\r\nimport {\r\n\taddUpdatesToFirebase,\r\n\tgetNestedArrayFromFirebase,\r\n\tgetArrayFromFirebase,\r\n\tgetCurrentDate,\r\n\tgetSingleValueFromFirebase,\r\n} from \"./firebaseUtils\";\r\n\r\n// API interaction\r\nexport const createUser = ({ uid, email }) => {\r\n\tconst data = { uid, email, role: \"TM\" };\r\n\r\n\tconst updates = {};\r\n\tupdates[\"/users/\" + uid] = data;\r\n\r\n\treturn addUpdatesToFirebase(updates);\r\n};\r\n\r\nexport const updateUser = ({ uid, email, role, name, age }) => {\r\n\tconst data = { uid, email, role, name, age };\r\n\r\n\tconst updates = {};\r\n\tupdates[\"/users/\" + uid] = data;\r\n\r\n\treturn addUpdatesToFirebase(updates).then(() => {\r\n\t\treturn data;\r\n\t});\r\n};\r\n\r\nexport const getUser = (uid) => {\r\n\treturn getSingleValueFromFirebase(`/users/${uid}`);\r\n};\r\n\r\nexport const getUsers = () => {\r\n\treturn getArrayFromFirebase(\"/users\");\r\n};\r\n\r\nexport const createProject = (data) => {\r\n\tconst { name, description, ownerUid, category } = data;\r\n\tconst createdAt = getCurrentDate();\r\n\tconst updatedAt = createdAt;\r\n\tconst dataForProjects = { name, ownerUid, category };\r\n\tconst dataForFullProject = {\r\n\t\tname,\r\n\t\tdescription,\r\n\t\townerUid,\r\n\t\tcreatedAt,\r\n\t\tupdatedAt,\r\n\t\tcategory,\r\n\t};\r\n\r\n\tconst newKey = firebase.database().ref().child(\"projects\").push().key;\r\n\r\n\tdataForProjects.id = dataForFullProject.id = newKey;\r\n\r\n\tconst updates = {};\r\n\tupdates[\"/projects/\" + newKey] = dataForProjects;\r\n\tupdates[\"/project/\" + newKey] = dataForFullProject;\r\n\r\n\treturn addUpdatesToFirebase(updates);\r\n};\r\n\r\nexport const getProjects = () => {\r\n\treturn getArrayFromFirebase(\"/projects\");\r\n};\r\n\r\nexport const getProject = (projectId) => {\r\n\treturn getSingleValueFromFirebase(`/project/${projectId}`);\r\n};\r\n\r\nexport const deleteProject = (projectId) => {\r\n\tconst updates = {};\r\n\tupdates[\"/projects/\" + projectId] = null;\r\n\tupdates[\"/project/\" + projectId] = null;\r\n\tupdates[\"/tasks/\" + projectId] = null;\r\n\r\n\treturn addUpdatesToFirebase(updates)\r\n\t\t.then(() => {\r\n\t\t\treturn projectId;\r\n\t\t})\r\n\t\t.catch((error) => Promise.reject(error));\r\n};\r\n\r\nexport const updateProject = (data) => {\r\n\tconst { name, description, ownerUid, category, id, createdAt } = data;\r\n\tconst updatedDate = getCurrentDate();\r\n\tconst projectsUpdateData = {\r\n\t\tid,\r\n\t\tname,\r\n\t\townerUid,\r\n\t\tcategory,\r\n\t};\r\n\tconst projectUpdateData = {\r\n\t\tdescription,\r\n\t\tid,\r\n\t\tname,\r\n\t\townerUid,\r\n\t\tcategory,\r\n\t\tcreatedAt,\r\n\t\tupdatedAt: updatedDate,\r\n\t};\r\n\tconst updates = {};\r\n\tupdates[\"/projects/\" + id] = projectsUpdateData;\r\n\tupdates[\"/project/\" + id] = projectUpdateData;\r\n\r\n\treturn addUpdatesToFirebase(updates).then(() => {\r\n\t\treturn projectUpdateData;\r\n\t});\r\n};\r\n\r\nexport const createTask = (data) => {\r\n\tconst { creatorUid, description, name, projectId, userId, severity } = data;\r\n\tconst state = \"Initialized\";\r\n\tconst createdAt = getCurrentDate();\r\n\tconst updatedAt = createdAt;\r\n\tconst dataAllTasks = { name, userId, state, projectId, severity };\r\n\tconst dataTask = {\r\n\t\tcreatorUid,\r\n\t\tdescription,\r\n\t\tname,\r\n\t\tprojectId,\r\n\t\tuserId,\r\n\t\tseverity,\r\n\t\tcreatedAt,\r\n\t\tupdatedAt,\r\n\t\tstate,\r\n\t};\r\n\r\n\tconst newKey = firebase.database().ref().child(\"projects\").push().key;\r\n\r\n\tdataAllTasks.id = dataTask.id = newKey;\r\n\r\n\tconst updates = {};\r\n\tupdates[`/tasks/${projectId}/${newKey}`] = dataAllTasks;\r\n\tupdates[`/task/${newKey}`] = dataTask;\r\n\r\n\treturn addUpdatesToFirebase(updates).then(() => projectId);\r\n};\r\n\r\nexport const getProjectTasks = (projectId) => {\r\n\treturn getArrayFromFirebase(`/tasks/${projectId}`);\r\n};\r\n\r\nexport const getTasks = () => {\r\n\treturn getNestedArrayFromFirebase(\"/tasks\");\r\n};\r\n\r\nexport const getTask = (taskId) => {\r\n\treturn getSingleValueFromFirebase(`/task/${taskId}`);\r\n};\r\n\r\nexport const deleteTask = ({ projectId, taskId }) => {\r\n\tconst updates = {};\r\n\tupdates[`/tasks/${projectId}/${taskId}`] = {};\r\n\tupdates[`/task/${taskId}`] = {};\r\n\r\n\treturn addUpdatesToFirebase(updates)\r\n\t\t.then(() => {\r\n\t\t\treturn { projectId, taskId };\r\n\t\t})\r\n\t\t.catch((error) => Promise.reject(error));\r\n};\r\n\r\nexport const updateTask = (data) => {\r\n\tconst {\r\n\t\tid,\r\n\t\tcreatorUid,\r\n\t\tdescription,\r\n\t\tname,\r\n\t\tprojectId,\r\n\t\tuserId,\r\n\t\tseverity,\r\n\t\tcreatedAt,\r\n\t\tstate,\r\n\t\tcomments,\r\n\t} = data;\r\n\tconst updatedAt = getCurrentDate();\r\n\tconst dataAllTasks = { id, name, userId, state, projectId, severity };\r\n\tconst dataTask = {\r\n\t\tid,\r\n\t\tcreatorUid,\r\n\t\tdescription,\r\n\t\tname,\r\n\t\tprojectId,\r\n\t\tuserId,\r\n\t\tseverity,\r\n\t\tstate,\r\n\t\tcreatedAt,\r\n\t\tupdatedAt,\r\n\t\tcomments: comments || [],\r\n\t};\r\n\r\n\tconst updates = {};\r\n\tupdates[`/tasks/${projectId}/${id}`] = dataAllTasks;\r\n\tupdates[`/task/${id}`] = dataTask;\r\n\r\n\treturn addUpdatesToFirebase(updates).then(() => {\r\n\t\treturn dataTask;\r\n\t});\r\n};\r\n\r\nexport const createComment = (inputs) => {\r\n\tconst { text, taskId, uid } = inputs;\r\n\tconst createdAt = getCurrentDate();\r\n\tconst data = { text, taskId, createdAt, uid };\r\n\r\n\tconst newKey = firebase.database().ref().child(\"projects\").push().key;\r\n\r\n\tdata.id = newKey;\r\n\r\n\tconst updates = {};\r\n\tupdates[`/task/${taskId}/comments/${newKey}`] = data;\r\n\r\n\treturn addUpdatesToFirebase(updates).then(() => taskId);\r\n};\r\n\r\nexport const deleteComment = ({ taskId, commentId }) => {\r\n\tconst updates = {};\r\n\tupdates[`/task/${taskId}/comments/${commentId}`] = {};\r\n\r\n\treturn addUpdatesToFirebase(updates)\r\n\t\t.then(() => {\r\n\t\t\treturn { taskId };\r\n\t\t})\r\n\t\t.catch((error) => Promise.reject(error));\r\n};\r\n","import React from \"react\";\r\n\r\nconst Button = ({ onClick, type, text, size }) => {\r\n\t// type prop added in case i need another button type\r\n\tconst bgColor = type === \"danger\" ? \"bg-red-500\" : \"bg-yellow-500\";\r\n\tconst bgColorHover = type === \"danger\" ? \"bg-red-600\" : \"bg-yellow-600\";\r\n\tconst btnSize = size === \"small\" ? \"py-1 px-3\" : \"py-2 px-8 w-56\";\r\n\treturn (\r\n\t\t<button\r\n\t\t\tclassName={` ${btnSize} rounded ${bgColor} hover:${bgColorHover} shadow hover:shadow-none focus:outline-none text-white `}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{text}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nconst Message = ({ text, type }) => {\r\n\tconst defaultClasses =\r\n\t\t\"text-center text-sm p-2 border-2 rounded absolute right-4 bottom-4 w-64\";\r\n\r\n\tconst errorClasses = \"text-red-600 border-red-600  bg-red-200\";\r\n\r\n\tconst successClasses = \"text-green-600 border-green-600 bg-green-200\";\r\n\r\n\tconst classes = `${defaultClasses} ${\r\n\t\ttype === \"error\" ? errorClasses : successClasses\r\n\t}`;\r\n\r\n\treturn <p className={classes}>{text}</p>;\r\n};\r\n\r\nexport default Message;\r\n","import { useMutation, useQueryClient } from \"react-query\";\r\nimport { createUser, updateUser } from \"../../utils/firebaseAPI\";\r\n\r\nexport const useCreateUserData = () => {\r\n\treturn useMutation(createUser);\r\n};\r\n\r\nexport const useUpdateUserData = () => {\r\n\tconst queryClient = useQueryClient();\r\n\treturn useMutation(updateUser, {\r\n\t\tonSuccess: (data) => {\r\n\t\t\tqueryClient.setQueryData([\"users\", data.uid], data);\r\n\t\t\tqueryClient.invalidateQueries(\"users\");\r\n\t\t},\r\n\t});\r\n};\r\n","import React from \"react\";\r\n\r\nconst Input = ({ value, type, onChange, label, name }) => {\r\n\treturn (\r\n\t\t<div className='flex flex-col'>\r\n\t\t\t<label htmlFor={name || label} className='py-1 px-2  text-yellow-900'>\r\n\t\t\t\t{label}:\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\tclassName='py-2 px-4 mb-6 text-black rounded outline-none border-2 border-transparent focus:border-yellow-300 '\r\n\t\t\t\tvalue={value}\r\n\t\t\t\ttype={type || \"text\"}\r\n\t\t\t\tonChange={onChange}\r\n\t\t\t\tname={name || label}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Input;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { useAuth } from \"../../context/auth-context\";\r\n\r\nimport Spinner from \"../../components/Spinner/Spinner\";\r\nimport Input from \"../../components/Input/InputAuth\";\r\nimport Button from \"../../components/Button/Button\";\r\nimport Message from \"../../components/Message/Message\";\r\n\r\nconst Login = () => {\r\n\tconst { login, register, isLoading, error } = useAuth();\r\n\tconst [email, setEmail] = useState(\"test1@test.com\");\r\n\tconst [password, setPassword] = useState(\"Test1234\");\r\n\tconst [isRegister, setIsRegister] = useState(false);\r\n\r\n\treturn (\r\n\t\t<div className='bg-yellow-500 h-screen flex justify-center items-center font-poppins '>\r\n\t\t\t<div className='bg-yellow-50 text-white px-8 py-6 flex flex-col content-center items-center rounded shadow w-96'>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tvalue={email}\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tonChange={(e) => setEmail(e.currentTarget.value)}\r\n\t\t\t\t\tlabel='Email'\r\n\t\t\t\t\tlayoutVertical\r\n\t\t\t\t/>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tvalue={password}\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tonChange={(e) => setPassword(e.currentTarget.value)}\r\n\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\tlayoutVertical\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tconst data = { email, password };\r\n\t\t\t\t\t\tisRegister ? register(data) : login(data);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttext={isRegister ? \"Register\" : \"Login\"}\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='text-yellow-900 hover:text-yellow-700  text-sm py-1 px-3 mt-1 focus:outline-none '\r\n\t\t\t\t\tonClick={() => setIsRegister((c) => !c)}\r\n\t\t\t\t>\r\n\t\t\t\t\tSwitch to {isRegister ? \"Login\" : \"Register\"}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{error ? <Message text={error.message} type='error' /> : null}\r\n\t\t\t\t{isLoading ? <Spinner fullPage /> : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect, Suspense, lazy } from \"react\";\nimport LoginPage from \"./pages/Login/Login.page\";\nimport Spinner from \"./components/Spinner/Spinner\";\n\nimport { useAuth } from \"./context/auth-context\";\nimport { useCreateUserData } from \"./hooks/mutations/userMutations\";\n\nconst AuthenticatedApp = lazy(() => import(\"./AuthenticatedApp\"));\n\nfunction App() {\n\tconst { user } = useAuth();\n\tconst createUserMutation = useCreateUserData();\n\n\tuseEffect(() => {\n\t\tif (user?.additionalUserInfo.isNewUser) {\n\t\t\tcreateUserMutation.mutate({ uid: user.user.uid, email: user.user.email });\n\t\t}\n\t}, [user]);\n\n\treturn (\n\t\t<Suspense fallback={<Spinner fullPage />}>\n\t\t\t{user ? <AuthenticatedApp /> : <LoginPage />}\n\t\t</Suspense>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport { ReactQueryDevtools } from \"react-query/devtools\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { AuthProvider } from \"./context/auth-context\";\n\nconst queryClient = new QueryClient();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<QueryClientProvider client={queryClient}>\n\t\t\t<ReactQueryDevtools initialIsOpen={false} />\n\t\t\t<BrowserRouter>\n\t\t\t\t<AuthProvider>\n\t\t\t\t\t<App />\n\t\t\t\t</AuthProvider>\n\t\t\t</BrowserRouter>\n\t\t</QueryClientProvider>\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}